/**
 * This file was auto-generated by openapi-typescript.
 * Do not make direct changes to the file.
 */


/** OneOf type helpers */
type Without<T, U> = { [P in Exclude<keyof T, keyof U>]?: never };
type XOR<T, U> = (T | U) extends object ? (Without<T, U> & U) | (Without<U, T> & T) : T | U;
type OneOf<T extends any[]> = T extends [infer Only] ? Only : T extends [infer A, infer B, ...infer Rest] ? OneOf<[XOR<A, B>, ...Rest]> : never;

export interface paths {
  "/v1/agents": {
    get: operations["list_agents"];
  };
  "/v1/agents/{agent}/install": {
    post: operations["install_agent"];
  };
  "/v1/agents/{agent}/modes": {
    get: operations["get_agent_modes"];
  };
  "/v1/health": {
    get: operations["get_health"];
  };
  "/v1/sessions/{session_id}": {
    post: operations["create_session"];
  };
  "/v1/sessions/{session_id}/events": {
    get: operations["get_events"];
  };
  "/v1/sessions/{session_id}/events/sse": {
    get: operations["get_events_sse"];
  };
  "/v1/sessions/{session_id}/messages": {
    post: operations["post_message"];
  };
  "/v1/sessions/{session_id}/permissions/{permission_id}/reply": {
    post: operations["reply_permission"];
  };
  "/v1/sessions/{session_id}/questions/{question_id}/reject": {
    post: operations["reject_question"];
  };
  "/v1/sessions/{session_id}/questions/{question_id}/reply": {
    post: operations["reply_question"];
  };
}

export type webhooks = Record<string, never>;

export interface components {
  schemas: {
    AgentError: {
      agent?: string | null;
      details?: unknown;
      message: string;
      session_id?: string | null;
      type: components["schemas"]["ErrorType"];
    };
    AgentInfo: {
      id: string;
      installed: boolean;
      path?: string | null;
      version?: string | null;
    };
    AgentInstallRequest: {
      reinstall?: boolean | null;
    };
    AgentListResponse: {
      agents: components["schemas"]["AgentInfo"][];
    };
    AgentModeInfo: {
      description: string;
      id: string;
      name: string;
    };
    AgentModesResponse: {
      modes: components["schemas"]["AgentModeInfo"][];
    };
    AttachmentSource: {
      path: string;
      /** @enum {string} */
      type: "path";
    } | {
      /** @enum {string} */
      type: "url";
      url: string;
    } | ({
      data: string;
      encoding?: string | null;
      /** @enum {string} */
      type: "data";
    });
    CrashInfo: {
      details?: unknown;
      kind?: string | null;
      message: string;
    };
    CreateSessionRequest: {
      agent: string;
      agentMode?: string | null;
      agentVersion?: string | null;
      model?: string | null;
      permissionMode?: string | null;
      variant?: string | null;
    };
    CreateSessionResponse: {
      agentSessionId?: string | null;
      error?: components["schemas"]["AgentError"] | null;
      healthy: boolean;
    };
    /** @enum {string} */
    ErrorType: "invalid_request" | "unsupported_agent" | "agent_not_installed" | "install_failed" | "agent_process_exited" | "token_invalid" | "permission_denied" | "session_not_found" | "session_already_exists" | "mode_not_supported" | "stream_error" | "timeout";
    EventsQuery: {
      /** Format: int64 */
      limit?: number | null;
      /** Format: int64 */
      offset?: number | null;
    };
    EventsResponse: {
      events: components["schemas"]["UniversalEvent"][];
      hasMore: boolean;
    };
    HealthResponse: {
      status: string;
    };
    MessageRequest: {
      message: string;
    };
    /** @enum {string} */
    PermissionReply: "once" | "always" | "reject";
    PermissionReplyRequest: {
      reply: components["schemas"]["PermissionReply"];
    };
    PermissionRequest: {
      always: string[];
      id: string;
      metadata?: {
        [key: string]: unknown;
      };
      patterns: string[];
      permission: string;
      sessionId: string;
      tool?: components["schemas"]["PermissionToolRef"] | null;
    };
    PermissionToolRef: {
      callId: string;
      messageId: string;
    };
    ProblemDetails: {
      detail?: string | null;
      instance?: string | null;
      /** Format: int32 */
      status: number;
      title: string;
      type: string;
      [key: string]: unknown;
    };
    QuestionInfo: {
      custom?: boolean | null;
      header?: string | null;
      multiSelect?: boolean | null;
      options: components["schemas"]["QuestionOption"][];
      question: string;
    };
    QuestionOption: {
      description?: string | null;
      label: string;
    };
    QuestionReplyRequest: {
      answers: string[][];
    };
    QuestionRequest: {
      id: string;
      questions: components["schemas"]["QuestionInfo"][];
      sessionId: string;
      tool?: components["schemas"]["QuestionToolRef"] | null;
    };
    QuestionToolRef: {
      callId: string;
      messageId: string;
    };
    Started: {
      details?: unknown;
      message?: string | null;
    };
    UniversalEvent: {
      agent: string;
      agentSessionId?: string | null;
      data: components["schemas"]["UniversalEventData"];
      /** Format: int64 */
      id: number;
      sessionId: string;
      timestamp: string;
    };
    UniversalEventData: {
      message: components["schemas"]["UniversalMessage"];
    } | {
      started: components["schemas"]["Started"];
    } | {
      error: components["schemas"]["CrashInfo"];
    } | {
      questionAsked: components["schemas"]["QuestionRequest"];
    } | {
      permissionAsked: components["schemas"]["PermissionRequest"];
    } | {
      raw: unknown;
    };
    UniversalMessage: OneOf<[components["schemas"]["UniversalMessageParsed"], {
      error?: string | null;
      raw: unknown;
    }]>;
    UniversalMessageParsed: {
      id?: string | null;
      metadata?: {
        [key: string]: unknown;
      };
      parts: components["schemas"]["UniversalMessagePart"][];
      role: string;
    };
    UniversalMessagePart: {
      text: string;
      /** @enum {string} */
      type: "text";
    } | ({
      id?: string | null;
      input: unknown;
      name: string;
      /** @enum {string} */
      type: "tool_call";
    }) | ({
      id?: string | null;
      is_error?: boolean | null;
      name?: string | null;
      output: unknown;
      /** @enum {string} */
      type: "tool_result";
    }) | ({
      arguments: unknown;
      id?: string | null;
      name?: string | null;
      raw?: unknown;
      /** @enum {string} */
      type: "function_call";
    }) | ({
      id?: string | null;
      is_error?: boolean | null;
      name?: string | null;
      raw?: unknown;
      result: unknown;
      /** @enum {string} */
      type: "function_result";
    }) | ({
      filename?: string | null;
      mime_type?: string | null;
      raw?: unknown;
      source: components["schemas"]["AttachmentSource"];
      /** @enum {string} */
      type: "file";
    }) | ({
      alt?: string | null;
      mime_type?: string | null;
      raw?: unknown;
      source: components["schemas"]["AttachmentSource"];
      /** @enum {string} */
      type: "image";
    }) | {
      message: string;
      /** @enum {string} */
      type: "error";
    } | {
      raw: unknown;
      /** @enum {string} */
      type: "unknown";
    };
  };
  responses: never;
  parameters: never;
  requestBodies: never;
  headers: never;
  pathItems: never;
}

export type $defs = Record<string, never>;

export type external = Record<string, never>;

export interface operations {

  list_agents: {
    responses: {
      200: {
        content: {
          "application/json": components["schemas"]["AgentListResponse"];
        };
      };
    };
  };
  install_agent: {
    parameters: {
      path: {
        /** @description Agent id */
        agent: string;
      };
    };
    requestBody: {
      content: {
        "application/json": components["schemas"]["AgentInstallRequest"];
      };
    };
    responses: {
      /** @description Agent installed */
      204: {
        content: never;
      };
      400: {
        content: {
          "application/json": components["schemas"]["ProblemDetails"];
        };
      };
      404: {
        content: {
          "application/json": components["schemas"]["ProblemDetails"];
        };
      };
      500: {
        content: {
          "application/json": components["schemas"]["ProblemDetails"];
        };
      };
    };
  };
  get_agent_modes: {
    parameters: {
      path: {
        /** @description Agent id */
        agent: string;
      };
    };
    responses: {
      200: {
        content: {
          "application/json": components["schemas"]["AgentModesResponse"];
        };
      };
      400: {
        content: {
          "application/json": components["schemas"]["ProblemDetails"];
        };
      };
    };
  };
  get_health: {
    responses: {
      200: {
        content: {
          "application/json": components["schemas"]["HealthResponse"];
        };
      };
    };
  };
  create_session: {
    parameters: {
      path: {
        /** @description Client session id */
        session_id: string;
      };
    };
    requestBody: {
      content: {
        "application/json": components["schemas"]["CreateSessionRequest"];
      };
    };
    responses: {
      200: {
        content: {
          "application/json": components["schemas"]["CreateSessionResponse"];
        };
      };
      400: {
        content: {
          "application/json": components["schemas"]["ProblemDetails"];
        };
      };
      409: {
        content: {
          "application/json": components["schemas"]["ProblemDetails"];
        };
      };
    };
  };
  get_events: {
    parameters: {
      query?: {
        /** @description Last seen event id (exclusive) */
        offset?: number | null;
        /** @description Max events to return */
        limit?: number | null;
      };
      path: {
        /** @description Session id */
        session_id: string;
      };
    };
    responses: {
      200: {
        content: {
          "application/json": components["schemas"]["EventsResponse"];
        };
      };
      404: {
        content: {
          "application/json": components["schemas"]["ProblemDetails"];
        };
      };
    };
  };
  get_events_sse: {
    parameters: {
      query?: {
        /** @description Last seen event id (exclusive) */
        offset?: number | null;
      };
      path: {
        /** @description Session id */
        session_id: string;
      };
    };
    responses: {
      /** @description SSE event stream */
      200: {
        content: never;
      };
    };
  };
  post_message: {
    parameters: {
      path: {
        /** @description Session id */
        session_id: string;
      };
    };
    requestBody: {
      content: {
        "application/json": components["schemas"]["MessageRequest"];
      };
    };
    responses: {
      /** @description Message accepted */
      204: {
        content: never;
      };
      404: {
        content: {
          "application/json": components["schemas"]["ProblemDetails"];
        };
      };
    };
  };
  reply_permission: {
    parameters: {
      path: {
        /** @description Session id */
        session_id: string;
        /** @description Permission id */
        permission_id: string;
      };
    };
    requestBody: {
      content: {
        "application/json": components["schemas"]["PermissionReplyRequest"];
      };
    };
    responses: {
      /** @description Permission reply accepted */
      204: {
        content: never;
      };
      404: {
        content: {
          "application/json": components["schemas"]["ProblemDetails"];
        };
      };
    };
  };
  reject_question: {
    parameters: {
      path: {
        /** @description Session id */
        session_id: string;
        /** @description Question id */
        question_id: string;
      };
    };
    responses: {
      /** @description Question rejected */
      204: {
        content: never;
      };
      404: {
        content: {
          "application/json": components["schemas"]["ProblemDetails"];
        };
      };
    };
  };
  reply_question: {
    parameters: {
      path: {
        /** @description Session id */
        session_id: string;
        /** @description Question id */
        question_id: string;
      };
    };
    requestBody: {
      content: {
        "application/json": components["schemas"]["QuestionReplyRequest"];
      };
    };
    responses: {
      /** @description Question answered */
      204: {
        content: never;
      };
      404: {
        content: {
          "application/json": components["schemas"]["ProblemDetails"];
        };
      };
    };
  };
}
